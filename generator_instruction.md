# Инструкция по написанию генератора

Скопируйте следующий код:
```python
# Название генератора
# & Описание и пример задачи

import os
import sys
path = "Subjects".join(os.getcwd().split("Subjects"))
sys.path.insert(0, path) # изменяем текущую директорию для импорта модулей
from Interface import * # Импортируем: окно с параметрами,
from Convert import convert # конвертер в LaTeX
from Export import export # и окно экспорта

drawer = Drawer("описание нужных параметров")


def generate(params): # ваша функция генерации задач
    return "пример1\nпример2\nпример3"


kg = True  # Условие основного цикла программы


while kg:  # ОЦП (Основной Цикл Программы)
    res = drawer.tick()  # Обновление интерфейса и приём команд пользователя. Для пересоздания интерфейса используется функция reset("новый_ввод")

    # Обработка вывода интерфейса
    if res == 'stop':
        kg = False
    elif res is not None: # res - строка с параметрами
        tasks = generate(res) # Генерируем задачи
        latex_code = convert(tasks) # Преобразуем в LaTeX
        export(latex_code) # Вызываем программу экспорта


# Выход из программы
pygame.quit()
```

В параметрах Drawer задайте строку с описанием входных параметров в следующем формате:
```имя_элемента(параметры элемента через запятую); имя_следующего_элемента(параметры в том же формате); ...```

Возможные имена элементов:
- *text(подпись, ID, значение по умолчанию)* - текстовое поле
- *numb(подпись, ID, значение по умолчанию)* - текстовое поле, но с ограничениями на ввод (разрешено вводить только числа)
- *list(подпись, ID, значение по умолчанию, варианты выбора через запятую)* - выдвижной drop-down список
- *radi(подпись, ID, варианты выбора)* - radio button. Если ничего не выбрано возвращает None
- *chek(подпись, ID)* - чек-бокс. Значение по умолчанию - False. Возвращает 0 или 1 в зависимости от значения

Пример корректного ввода:
```numb(макс. ответ, 01, 10); numb(мин. ответ, 02, 0); list(тип примера, 03, не выбрано, равенство, неравенство); radi(подвох, 04, Добавлять, Не добавлять, Случайно); chek(посчитать ответ, 05); text(неизвестная, 06, X)```

В переменной res будет содержаться строка с описанием заданных параметров в следующем формате:

```ID элемента : значение параметра, ID элемента : значение параметра ...```

Значения параметров будут даны в виде одной строки в том же порядке, в котором они были указаны на входе, разделённые запятыми.

Пример вывода (соответствующий примеру ввода):
```01 : 10, 02 : 0, 03 : не выбрано, 04 : Случайно, 05 : 1, 06 : X```

В проекте файл генератора нужно поместить в папку *Subjects/Предмет/Тема/*.

Для проверки, что всё правильно работает, сначала убедитесь, что все нужные модули уставновлены (воспользуйтесь файлом *install_packages.bat*), запустите файл *main.py*, выберите нужный предмет, тему и тип задач, нажмите **Generate**. Откроется окно с параметрами генерации, убедитесь что они отобразились правильно. Введите параметры генерации и снова нажмите **Generate**. Должно открыться окно экспорта с отображением сгенерированных задач (со степенями, подстрочными индексами и т. д.) и кнопками для экспорта. Убедитесь, что и в PDF и в PNG сгенерированные задачи экспортируются правильно
